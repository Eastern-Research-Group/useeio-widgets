<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Sector Contribution to Impact GHG</title>
    <link rel="stylesheet" type="text/css" href="widgets.css">
</head>


<body>
    <h1 id="graphTitle" class="text-center">Sector Contribution to Impact GHG</h1>

    <div style=" margin-left: 20px;">
    <label for="grap-selected">Choose a graph:</label>
    <br>
    <select id="my-select" onchange="changeGraph(this.value)">
        <option value="20" selected>20 Years</option>
        <option value="100">100 Years</option>
        <option value="SCC">Social Cost of Carbon</option>
     </select>
    </div>
    <div class="io" id="20" name="20" style="display: block;">
        <div style="width: 100%; margin: auto;">
            <div id="smart-sector-eeio">
            </div>
        </div>
    </div>

    <div class="io" id="100" name="100" style="display: none;">
        <div style="width: 100%; margin: auto;">
            <div id="smart-sector-eeio-100">
            </div>
        </div>
    </div>

    <div class="io" id="SCC" name="SCC" style="display: none;">
        <div style="width: 100%; margin: auto;">
            <div id="smart-sector-eeio-SCC">
            </div>
        </div>
    </div>

    <div class="io" id="20_direct" name="20" style="display: none;">
        <div style="width: 100%; margin: auto;">
            <div id="smart-sector-eeio_direct">
            </div>
        </div>
    </div>

    <div class="io" id="100_direct" name="100" style="display: none;" >
        <div style="width: 100%; margin: auto;">
            <div id="smart-sector-eeio-100_direct">
            </div>
        </div>
    </div>

    <div class="io" id="SCC_direct" name="SCC" style="display: none;">
        <div style="width: 100%; margin: auto;">
            <div id="smart-sector-eeio-SCC_direct">
            </div>
        </div>
    </div>

    <div style=" margin-left: 20px;">
    <label for="grap-selected">Perspective:</label>
    <br>
    <input type="radio" name="myRadios" value="final" checked/> Final
    <input type="radio" name="myRadios" value="direct" /> Direct
    </div>

    <script src="lib/apexcharts.min.js"></script>
    <script src="lib/useeio_widgets.js"></script>
    <script>

        var config = useeio.urlConfig();
        var modelID = config.get().model || 'SMART_SECTORv1.0';

        var model = useeio.model({
            endpoint: './api',
            model: modelID,
            asJsonFiles: true,
        });

        var smartSectorChart = useeio.smartSectorChart({
            model: model,
            endpoint: './api',
            selector: '#smart-sector-eeio',
        });
        smartSectorChart.update();

    </script>


<script type="text/javascript">
    var perspectineName = 'final';
    var graphType = '20';
    function changeGraph(t)
            {
               var nameClasses =  document.getElementsByClassName('io')

                for (var i = 0; i < nameClasses.length; i ++) {
                    nameClasses[i].style.display = 'none';
                }

                if(perspectineName === 'direct')
                {
                    document.getElementById(t+"_"+perspectineName).style.display = 'block';
                    graphType = document.getElementById(t+"_"+perspectineName).getAttribute('name');
                }
                else
                {
                    document.getElementById(t).style.display = 'block';
                    graphType = document.getElementById(t).getAttribute('name');
                }


                if(t === 'SCC')
                {
                    document.getElementById('graphTitle').innerText = 'Sector Contribution to Impact per $';
                }
                else
                {
                    document.getElementById('graphTitle').innerText = 'Sector Contribution to Impact GHG';
                }
            }

            document.addEventListener('input',(e)=>{
                if(e.target.getAttribute('name')=="myRadios")
                {
                    perspectineName = e.target.value
                    changeGraph(graphType);

                }
            })
</script>
</body>

</html>
